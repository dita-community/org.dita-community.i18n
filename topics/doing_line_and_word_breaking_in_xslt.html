<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="DC.Type" content="concept"><meta name="description" content="The i18n library provides XSLT access to the ICU4J line and working functions."><meta name="DC.Relation" scheme="URI" content="../topics/dita_community_internationalization_plugin.html"><meta name="prodname" content="org.dita-community.i18n"><meta name="version" content="1"><meta name="release" content="0"><meta name="modification" content="0"><meta name="DC.Creator" content="Eliot Kimber"><meta name="rights" content="Â© 2016 DITA Community Project"><meta name="DC.Date.Created" content="2016-10-08"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="doing_line_and_word_breaking_in_xslt"><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../dita-ot-doc.css"><title>Doing Line and Word Breaking in XSLT</title></head><body id="doing_line_and_word_breaking_in_xslt"><nav role="toc"><ul><li><a href="../topics/dita_community_internationalization_plugin.html">DITA Community Internationalization Plugin</a><ul><li><a href="../topics/installation.html">Installation</a><ul><li><a href="../topics/deploying-i18n-plugin.html">Deploying the i18n Open Toolkit Plugin</a></li><li><a href="../topics/transformer-configuration-setup.html">Setting Up The Saxon Transformer Factory Configuration</a><ul><li><a href="../topics/setting_the_transformer_factory_for_command_line_use.html">Setting the Transformer Factory for Command Line Use</a></li><li><a href="../topics/setting_the_transformer_factory_for_oxygenxml.html">Setting the Transformer Factory for oXygenXML</a></li></ul></li></ul></li><li><a href="../topics/using_the_i18n_collator_from_xslt.html">Using the i18n Collator from XSLT</a></li><li class="active"><a href="../topics/doing_line_and_word_breaking_in_xslt.html">Doing Line and Word Breaking in XSLT</a></li><li><a href="../topics/estimating_rendered_string_length_in_xslt.html">Estimating Rendered String Length in XSLT</a></li><li><a href="../topics/how_it_works.html">How It Works</a></li><li><a href="../topics/external_resources.html">External Resources</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
 <h1 class="title topictitle1" id="ariaid-title1">Doing Line and Word Breaking in XSLT</h1>
 
 <div class="body conbody"><p class="shortdesc">The i18n library provides XSLT access to the ICU4J line and working
    functions.</p>
  <p class="p">The i18n XSLT utility library provides functions for doing locale-aware word and line breaking
      of strings. This can be useful for things like estimating rendered lengths of strings,
      generating word indexes, and finding appropriate points to insert zero-width spaces in literal
      examples where line wrapping would not otherwise occur.</p>
    <p class="p">The file <span class="ph filepath">text/xsl/test-collator.xsl</span> in the i18n plugin demonstrates how
      to use the collator and the line and word breaking utility functions. </p>
    <div class="p">For example, to break a line into words you can do something like
      this:<pre class="pre codeblock"><code>&lt;xsl:variable name="words" as="xs:string*"
  select="dci18n:splitWords(normalize-space(.), $langCode)
/&gt;
&lt;xsl:for-each select="$words"&gt;
  &lt;p&gt;&lt;span class="word"&gt;&lt;xsl:value-of select="."/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/xsl:for-each&gt;</code></pre></div>
    <p class="p">The <code class="ph codeph">dci18n:splitWords()</code> function only returns words, omitting any
      whitespace, punctuation, or other non-word characters. The function will return at least one
      word unless the input string is empty or consists only of non-word characters.</p>
    <p class="p">The <code class="ph codeph">dci18n:splitLines()</code> function works the same way, splitting the text into
      a sequence of strings, each string representing the string from the previous line break point
      and the next one (or from the start of the string to the first break point). The result
      reflects all the characters in the input string.</p>
 </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/dita_community_internationalization_plugin.html">DITA Community Internationalization Plugin</a></div></div></nav></article></main></body></html>